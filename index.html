<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tron Ares IPTV Player</title>

  <!-- Police futuriste -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800&display=swap" rel="stylesheet">

  <!-- HLS & DASH -->
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <script src="https://cdn.jsdelivr.net/npm/dashjs@latest/dist/dash.all.min.js"></script>

  <link rel="stylesheet" href="tron-ares.css">
</head>
<body>
<div class="app-shell" id="appShell">
  <!-- Sidebar: playlists -->
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <div class="sidebar-title">Playlist Grid</div>
      <div class="status-pill" id="statusPill">Idle</div>
    </div>
<div class="tabs">
  </button>
  <button class="tab-btn" data-tab="fr">
    <span>ðŸ‡«ðŸ‡·</span>ChaÃ®nes FR M3U
  </button>
  <button class="tab-btn active" data-tab="channels">
    <span>ðŸŽ¥</span>Film M3U
  <button class="tab-btn" data-tab="iframes">
    <span>â– </span> ðŸ‡µðŸ‡¹ port / iFrame
  </button>
  <button class="tab-btn" data-tab="favorites">
    <span>â˜…</span> Favoris
  </button>
</div>
<div class="search-row">
  <div class="search-wrapper">
    <input id="globalSearchInput" class="input search-input"
           placeholder="Rechercher (toutes listes)â€¦" />
    <button id="clearSearchBtn" class="clear-search-btn">âœ–</button>
  </div>
</div>
<!-- Mini player radio R.Alfa -->
<div id="miniRadioPlayer" class="mini-radio">
  <img class="mini-radio-logo" src="https://vsalema.github.io/ipodfm/img/Radio_Alfa.png">
  <div class="mini-radio-info">
    <div class="mini-radio-title">R.Alfa</div>
    <div class="mini-radio-rds">Hit Music Only</div>
  </div>
   <div class="mini-radio-viz">
    <span class="viz-bar bar1"></span>
    <span class="viz-bar bar2"></span>
    <span class="viz-bar bar3"></span>
    <span class="viz-bar bar4"></span>
    <span class="viz-bar bar5"></span>
  </div>
  <button id="radioPlayBtn" class="mini-radio-btn">â–¶</button>

  <!--<audio id="miniRadioAudio"
         src="https://n32a-eu.rcs.revma.com/amrbkhqtkm0uv?rj-ttl=5&rj-tok=AAABmqMYXjQAwgI6eJQzoCwBDw">
  </audio>-->
</div>
<div class="lists-container">
  <div class="scroll-fade"></div>

  <!-- FR d'abord et active -->
  <div class="list active" id="channelFrList"></div>

  <!-- Films ensuite -->
  <div class="list" id="channelList"></div>

  <div class="list" id="iframeList"></div>
  <div class="list" id="favoriteList"></div>
</div>
<div class="loader-panel">

  <!-- SECTION 1 : Charger une playlist ou une source -->
  <div class="loader-section" data-section="playlist">
    <div class="loader-label collapsible-label">
      <span>Charger une playlist ou une source</span>
      <span class="loader-toggle-icon">â–¸</span>
    </div>

    <div class="loader-section-body">
      <div class="loader-row">
        <input id="urlInput" class="input" placeholder="URL d'un flux ou d'une playlist M3Uâ€¦" />
        <button class="btn btn-ghost" id="loadUrlBtn">Charger</button>
      </div>
      <div class="loader-subrow">
        <span>HTTP(S), M3U, HLS, MP4, MP3, YouTubeâ€¦</span>
      </div>

      <div class="loader-row">
        <input type="file" id="fileInput" class="file-input"
               accept=".m3u,.m3u8,.mp4,.mp3,.mpd,.ts,.aac,.flv,.mov,video/*,audio/*" />
        <button class="btn btn-ghost" id="openFileBtn">Ouvrir un fichier local</button>
      </div>
      <div class="loader-subrow">
        <span id="fileNameLabel">Aucun fichier sÃ©lectionnÃ©</span>
      </div>

      <div class="loader-label" style="margin-top:4px;">Ajouter un overlay iFrame</div>
      <div class="loader-row">
        <input id="iframeTitleInput" class="input" placeholder="Titre overlay / site / widgetâ€¦" />
      </div>
      <div class="loader-row">
        <input id="iframeUrlInput" class="input" placeholder="URL iFrame ou vidÃ©o YouTubeâ€¦" />
        <button class="btn btn-accent" id="addIframeBtn">+ Ajouter</button>
      </div>
    </div>
  </div>

  <!-- SECTION 2 : JSON M3U / iFrame -->
  <div class="loader-section" data-section="json">
    <div class="loader-label collapsible-label">
      <span>JSON M3U / iFrame</span>
      <span class="loader-toggle-icon">â–¸</span>
    </div>

    <div class="loader-section-body">
      <div class="loader-row">
        <button class="btn btn-ghost" id="exportM3uJsonBtn">Export M3U â†’ JSON</button>
        <button class="btn btn-ghost" id="exportIframeJsonBtn">Export iFrame â†’ JSON</button>
      </div>
      <div class="loader-row">
        <button class="btn btn-accent" id="importJsonBtn">Importer JSON</button>
      </div>
      <div class="loader-row">
        <textarea id="jsonArea" class="input"
                  style="height:80px; resize:vertical; font-family:monospace; border-radius:12px;"
                  placeholder="Colle ici le JSON Ã  importer, ou regarde le JSON exportÃ©â€¦"></textarea>
      </div>
    </div>
  </div>

</div>

    
  </aside>

  <!-- Main: player -->
  <main class="main">
    <div class="top-bar">
      <div class="top-bar-left">
        <!-- tu peux mettre des infos ici plus tard si tu veux -->
      </div>

      <!-- Banner tron Ares centrÃ© (ne change pas la hauteur) -->
      <div class="top-bar-banner">
        <img src="https://vsalema.github.io/tvpt4/css/ChatGPT Image 6 dÃ©c. 2025, 19_05_13.png"
             alt="Tron Ares IPTV Player"
             class="banner-img">
      </div>

      <div class="top-bar-right">
        <button class="btn btn-ghost" id="themeToggleBtn">ThÃ¨me : Cyan/Orange</button>
        <button class="btn btn-ghost" id="fxToggleBtn">FX Tron+</button>
        <button class="btn btn-ghost" id="pipToggleBtn">PiP</button>
        <button class="btn btn-ghost" id="toggleOverlayBtn">VidÃ©o / iFrame</button>
        <button class="btn btn-ghost" id="fullPageBtn">Plein Ã©cran</button>
        <button class="toggle-sidebar-btn" id="toggleSidebarBtn" aria-label="Menu sidebar">
          <span class="burger-left">â˜°</span>
          <span class="burger-center"></span>
          <span class="burger-right">â˜°</span>
        </button>
      </div>
    </div>

    <section class="player-shell player-grid-lines" id="playerContainer">
      <div class="player-inner">
        <video id="videoEl" controls preload="metadata"></video>
        <div class="iframe-overlay hidden" id="iframeOverlay">
          <iframe id="iframeEl" allowfullscreen></iframe>
        </div>
      </div>
    </section>

    <footer class="bottom-bar">
      <button class="nav-btn" id="prevBtn">
        <span class="nav-label-arrow">â—€</span>
        Prev
      </button>

      <div class="now-playing" id="nowPlaying">
  <div class="np-logo" id="npLogo"></div>
  <div class="np-text">
    <div class="np-title" id="npTitle">Aucune chaÃ®ne sÃ©lectionnÃ©e</div>
    <div class="np-sub" id="npSub">Choisissez une chaÃ®ne dans la liste</div>
  </div>
  <div class="np-badge" id="npBadge">IDLE</div>

  <!-- Nouveau bloc contrÃ´les films (channelList) -->
  <div class="np-tracks" id="npTracks">

    <!-- Bouton Audio -->
    <div class="np-track-group" id="audioGroup">
      <button class="icon-btn np-track-btn" id="audioTrackBtn" title="Changer la piste audio">
        ðŸ”Š
      </button>
      <div class="np-track-menu" id="audioTrackMenu"></div>
    </div>

    <!-- Bouton Sous-titres -->
    <div class="np-track-group" id="subtitleGroup">
      <button class="icon-btn np-track-btn" id="subtitleTrackBtn" title="Sous-titres">
        ðŸ’¬
      </button>
      <div class="np-track-menu" id="subtitleTrackMenu"></div>
    </div>

  </div>
</div>


      <button class="nav-btn" id="nextBtn">
        Next
        <span class="nav-label-arrow">â–¶</span>
      </button>

      <div class="helper-text">
        Next / Prev changent la chaÃ®ne <span>M3U</span> active.
      </div>
    </footer>
  
</main>
</div>

<script src="tron-ares.js"></script>
</body>
</html>
